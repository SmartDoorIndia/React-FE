(this.webpackJsonpsmartdoor=this.webpackJsonpsmartdoor||[]).push([[89],{1510:function(e,t,s){"use strict";s.r(t);var a=s(0),o=(s(678),s(37)),l=s(29),c=s(349),i=s(20),r=s(1491),n=s(141),d=s(117),j=s(34),m=s(121),b=s(14),x=s(113),p=s(174),h=s(55),O=s(137),g=s(123),u=s(209),y=s(230),f=s(21),A=s(260),S=s.n(A),v=s(58),N=s(350),w=s(351),W=s(4);const D=new S.a(v.a.CONFIG),{userData:z}=Object(f.b)(),C=[{name:"Id",selector:"PropertyId",center:!0,sortable:!0,cell:(e,t)=>Object(W.jsx)("span",{children:t+1})},{name:"Added On",selector:"addedOnDate",sortable:!0,center:!0,style:{"max-width":"120px"},maxWidth:"130px",cell:e=>{let{addedOn:t}=e;return Object(W.jsx)("span",{children:"".concat(Object(j.f)(t))||""})}},{name:"Owner",selector:"propertyPostedBy",center:!0,cell:e=>{let{propertyPostedBy:t,imageUrl:s}=e;return Object(W.jsx)("div",{className:"userName",children:Object(W.jsx)(i.a,{size:"Small",style:{width:"max-content"},color:"secondryColor",text:t})})}},{name:"Location",selector:"city",center:!0,style:{"max-width":"60px"},maxWidth:"60px",cell:e=>{let{propertyAddress:t}=e;return Object(W.jsx)(j.a,{position:"top",style:{width:"100%"},name:t||"",children:Object(W.jsxs)("span",{className:"cursor-pointer elipsis-text",children:[" ",null===t||void 0===t?void 0:t.substring(0,-1!==(null===t||void 0===t?void 0:t.indexOf(","))?null===t||void 0===t?void 0:t.indexOf(","):null===t||void 0===t?void 0:t.length)]})})}},{name:"Type",selector:"propertySubType",center:!0,cell:e=>{let{propertySubType:t}=e;return Object(W.jsx)("span",{children:"".concat(t||"")})}},{name:"Information",selector:"propertyInformation",center:!0,cell:e=>{let{propertyRate:t,numberOfBath:s,numberOfBed:a,carpetArea:o,bedRooms:l}=e;return Object(W.jsx)("span",{children:"".concat(o," Sq. ft | ").concat(null===l?"0":l||"0"," Bed | ").concat(null===s?"0":s||""," Bath")})}},{name:"Assets",selector:e=>e.smartdoorPropertyId,sortable:!1,center:!0,maxWidth:"30px",cell:e=>{let{row:t,smartdoorPropertyId:s,propertyDocsResp:a}=e;return Object(W.jsx)(b.b,{className:"dociconSpace",to:{pathname:"/admin/property/property-documents",state:{propertyId:s,propertyDocsResp:a}},children:Object(W.jsx)(l.a,{alt:"doc icon",src:w.a})})}},{name:"Action",selector:"year",center:!0,style:{"max-width":"60px"},maxWidth:"60px",cell:e=>{let{row:t,smartdoorPropertyId:s}=e;return Object(W.jsx)("div",{className:"action",children:Object(W.jsx)(j.a,{position:"left",name:"View Details",children:Object(W.jsx)("span",{children:Object(W.jsx)(b.b,{to:{pathname:"/admin/societies/property-details",state:{propertyId:s,userId:z.userid}},children:Object(W.jsx)(l.a,{name:"editIcon",src:O.a})})})})})}}],I=Object(W.jsx)("img",{src:g.a,alt:"",className:"ml-1",width:"10px"}),B=Object(W.jsx)(h.b,{}),P={getPropertyAnalytics:d.ac,getAllPropertyDeals:d.X,getAllLeadsBySociety:d.T,getAllPropertyBySocietyId:d.W};t.default=Object(o.b)((e=>{let{societyAnalyticsData:t,societyDealsData:s,societyPropertyLeadsData:a,societyPropertyListedData:o}=e;return{societyAnalyticsData:t,societyDealsData:s,societyPropertyLeadsData:a,societyPropertyListedData:o}}),P)((e=>{var t;const{getPropertyAnalytics:s,getAllPropertyDeals:o,getAllLeadsBySociety:b,getAllPropertyBySocietyId:O,societyAnalyticsData:g,societyDealsData:f,societyPropertyListedData:A}=e,S=e.location.state?e.location.state.societyId:"",[v,w]=Object(a.useState)(!0),[z,P]=Object(a.useState)({}),[L,R]=Object(a.useState)({}),[k,T]=Object(a.useState)(!1),[M,G]=Object(a.useState)({}),[U,V]=Object(a.useState)(void 0),[E,F]=Object(a.useState)(""),q=()=>T(!1),J=Object(a.useCallback)((()=>{Object(d.rc)({societyId:S}).then((e=>{w(!1),e.data&&e.data.resourceData&&(P(e.data.resourceData),F(e.data.resourceData.societyLogo))})).catch((e=>{w(!1)}))}),[d.rc]),X=Object(a.useCallback)((()=>{Object(d.uc)({societyId:S}).then((e=>{w(!1),e.data&&200===e.status&&e.data.resourceData&&R(e.data.resourceData)})).catch((e=>{w(!1)}))}),[d.uc]);Object(a.useEffect)((()=>{J(),X(),s({societyId:S}),o({societyId:S}),O({societyId:S})}),[J,X,s,o,b,O]);return console.log("societyDealsData:",f),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"dashboard container-fluid12",children:[Object(W.jsxs)(r.a,{children:[Object(W.jsxs)(n.a,{lg:8,children:[Object(W.jsxs)(r.a,{children:[f.data.length?Object(W.jsx)(n.a,{lg:4,children:Object(W.jsx)("div",{className:"whiteBg",children:Object(W.jsxs)("div",{className:"scroll",children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Property Deals",className:"text-center"}),null!==f&&void 0!==f&&f.isLoading?Object(W.jsx)(h.c,{}):null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.map(((e,t)=>Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"separator mt-2 mb-2"}),Object(W.jsxs)("div",{className:"pt-2",children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Sold On"}),Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"mediumbold",color:"secondryColor",text:e.soldOn||""})]}),Object(W.jsxs)("div",{className:"pt-2",children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Address"}),Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"mediumbold",color:"secondryColor",text:e.address||""})]}),Object(W.jsxs)("div",{className:"pt-2",children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Deal Amount"}),Object(W.jsxs)("div",{className:"d-flex",children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"mediumbold",color:"secondryColor",text:"\u20b9".concat(e.dealAmount||""," ")}),Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"mediumbold",color:"secondryColor",className:"mr-1 ml-1",text:" | "}),Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"mediumbold",color:"successColor",text:" +\u20b9".concat(e.dealAmount||" "," ")})]})]})]})))]})})}):null,Object(W.jsx)(n.a,{lg:f.data.length?"8":"12",children:Object(W.jsxs)("div",{className:"whiteBg whiteBgHeight crossIconWrap position-relative",children:[Object(W.jsx)(i.a,{size:"Small",fontWeight:"smbold",color:"secondryColor",text:"Society Logo",className:"text-center mb-2"}),E?Object(W.jsx)("div",{class:"crossIcon position-absolute",children:Object(W.jsx)("span",{class:"closeRight",children:Object(W.jsx)(l.a,{onClick:()=>{Object(d.A)({societyId:S}).then((e=>{e.data&&200===e.data.status&&D.deleteFile(null===z||void 0===z?void 0:z.societyLogo).then((e=>console.log(e,"deleted from aws"))).catch((e=>console.error(e,"error while deleting on aws"))),V({logo:""}),J()})).catch((e=>{}))},name:"crossIcon",src:c.a,alt:"cross icon"})})}):null,Object(W.jsx)("div",{className:"companyLogo",children:Object(W.jsx)(l.a,{name:"companyLogo",src:E||"https://smartdoor-app.s3.us-east-2.amazonaws.com/society-logo/Societies_320.svg"})}),Object(W.jsx)("div",{className:"uploadIcon text-right",children:Object(W.jsx)("div",{className:"inputFields",children:Object(W.jsxs)("label",{controlId:"formFileLg",className:"mb-0",children:[Object(W.jsx)(x.a.Control,{accept:".png, .jpg, .jpeg",type:"file",size:"lg",onChange:e=>(e=>{if(e.target.files&&e.target.files[0]){let t=new FileReader;t.onload=e=>{console.log(e.target.result,"target.result"),V(e.target.result)},t.readAsDataURL(e.target.files[0])}console.log(e.target.files[0],"after upload files"),console.log(e.target.files,"before s3 files"),e.target.files.length>0&&(D.uploadFile(e.target.files[0],e.target.files[0].name).then((e=>{console.log("data",e),Object(d.Oc)({societyId:S,societyLogo:e.location}).then((t=>{w(!1),F(e.location),null!==t&&void 0!==t&&t.data&&200===t.data.statue&&J()})).catch((e=>{w(!1),console.log("error",e)}))})).catch((e=>{})),console.log(e.target.files[0],"end file"))})(e)}),Object(W.jsx)(l.a,{src:N.a,className:"img-fluid",alt:"Upload Icon"})]})})})]})})]}),Object(W.jsxs)("div",{className:"eventDetails",children:[Object(W.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(W.jsxs)("div",{className:"",children:[Object(W.jsx)(i.a,{size:"large",fontWeight:"mediumbold",color:"secondryColor",text:z.societyName||"-"}),Object(W.jsx)(i.a,{color:"secondryColor",className:"fs-14 fw500",text:z.address||"-"})]}),z.directAccessed?Object(W.jsx)(i.a,{className:"ml-2",size:"Small",fontWeight:"smbold",color:"TaupeGrey",text:"DIRECT ACCESSED"}):"",Object(W.jsx)("div",{children:Object(W.jsx)("div",{})})]}),Object(W.jsx)("div",{className:"separator mt-2 mb-2"}),Object(W.jsxs)(r.a,{className:"mt-4",children:[Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Built In"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:z.builtInYear||"-"})]}),Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Plot Size"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:null===z.plotSize?"-":z.plotSize+" Sq. Ft."})]}),Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Properties Listed"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:z.noOfProperties||"-"})]})]}),Object(W.jsx)("div",{className:"separator mt-4 mb-2"}),Object(W.jsxs)("div",{className:"societyUsersList mt-4",children:[Object(W.jsx)("div",{className:"d-flex justify-content-between",children:Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Society Users",className:"mb-2"})}),L.length?L.map(((e,t)=>Object(W.jsx)("div",{className:"authorContact mt-4",children:Object(W.jsxs)("div",{className:"d-flex",children:[Object(W.jsx)("div",{className:"author",children:Object(W.jsx)(l.a,{name:"author",className:"object-cover",src:e.imageUrl||p.a})}),Object(W.jsxs)("div",{className:"ml-3 mt-2",children:[Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:"".concat(e.name," (").concat(e.position,")")}),Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"secondryColor",text:e.contactNumber})]})]})}))):null]})]})]}),Object(W.jsx)(n.a,{lg:4,children:Object(W.jsxs)("div",{className:"whiteBg",children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Description",className:"mb-2"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"smbold",color:"secondryColor",text:"".concat(Object(j.v)(g.data.description))}),Object(W.jsx)("div",{className:"mapLocation mt-4",children:Object(W.jsx)("div",{style:{height:"120px",overflow:"hidden"},children:Object(W.jsx)(u.a,{p_lat:g.data.latitude,p_lng:g.data.longitude})})}),Object(W.jsx)("div",{className:"separator mt-2 mb-2"}),g.isLoading?Object(W.jsx)(h.c,{}):Object(W.jsxs)("div",{className:"mt-3",children:[Object(W.jsx)(i.a,{size:"large",fontWeight:"mediumbold",color:"secondryColor",text:"Property Analytics"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"semibold",color:"secondryColor",text:null===g.data.registerdOn?"Registered On: - ":"Registered On: ".concat(Object(j.f)(g.data.registerdOn)||"-")}),Object(W.jsxs)(r.a,{className:"mt-4",children:[Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"User Visited"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:g.data.userVisited})]}),Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Meetings Done"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:g.data.meetingDone})]}),Object(W.jsxs)(n.a,{lg:3,children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Favorited"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:g.data.favouriteCount})]})]}),Object(W.jsxs)(r.a,{className:"mt-4",children:[Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{className:"text-muted fs-12",size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Upcoming Visits"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:g.data.upcomingVisits})]}),Object(W.jsxs)(n.a,{children:[Object(W.jsx)(i.a,{className:"text-muted fs-12",size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"Cancelled Deals"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:g.data.dealCancelled})]}),Object(W.jsxs)(n.a,{lg:3,children:[Object(W.jsx)(i.a,{size:"xSmall",fontWeight:"semibold",color:"TaupeGrey",text:"On-Hold"}),Object(W.jsx)(i.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:g.data.dealOnHold})]})]})]})]})})]}),Object(W.jsxs)("div",{className:"tableBox mb-3",children:[Object(W.jsx)("div",{className:"d-flex justify-content-between align-items-center tableHeading",children:Object(W.jsx)("div",{children:Object(W.jsx)(i.a,{size:"regular",fontWeight:"mediumbold",color:"secondryColor",text:"Properties Listed"})})}),Object(W.jsx)(m.a,{data:A.data,columns:C,progressPending:!1,perPageOptions:[4,8,12,16,20,24,28,32,36,40],paginationPerPage:4,paginationRowsPerPageOptions:[4,8,12,16,20,24,28,32,36,40],sortIcon:I,progressComponent:B})]})]}),Object(W.jsx)(y.a,{title:M.isBlocked?"Are you sure you want to enable this society?":"Are you sure you want to disable this society?",cancelButtonName:"Cancel",primaryButtonName:M.isBlocked?"Enable":"Disable",show:k,handleClose:q,handleShow:()=>T(!0),handlePerformAction:function(){Object(d.B)({societyId:S}).then((e=>{e.data&&200===e.data.status&&J()})).catch((e=>{})),q()}})]})}))},209:function(e,t,s){"use strict";var a=s(0),o=s(258),l=s(34),c=s(4);const i={width:"100%",height:"120px",display:"inline",borderRadius:"5px"},r={lat:20.5937,lng:78.9629};class n extends a.Component{constructor(){super(...arguments),this.state={showMap:!1},this.onMarkerDragEnd=async(e,t,s)=>{const{latLng:a}=e;let o=await Object(l.k)({latLng:a});console.log("map component results:",o),this.props.onMarkerDragEnd&&this.props.onMarkerDragEnd(o)}}componentDidMount(){window.google&&window&&this.setState((e=>({showMap:!0})))}render(){const e=this.props.p_lat&&this.props.p_lng?{lat:this.props.p_lat,lng:this.props.p_lng}:r;return Object(c.jsx)(c.Fragment,{children:this.state.showMap&&window&&window.google?Object(c.jsx)(o.Map,{google:google,zoom:this.props.p_lat&&this.props.p_lng?16:4,style:i,initialCenter:e,defaultCenter:e,defaultZoom:16,center:e,children:e?Object(c.jsx)(o.Marker,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATvSURBVHgBxVk7TyNJEC6DIQP7YpI58RBEy/2CHf+CxcRImBACzuRIt5uRLSSkawtybokR+FIkdL4EIR5aB5B7IeN53zf0WO1298x4PNJ+kpnumX58XV1VXV3kZEB4wMjIiP/29uahWsjlckWU2yj/xLM5NDTUurq6asqAyEkKTE1N+Xh8AqkFck3QpYVfA8Tr19fXDUmBvoiSIMj9haIv6UHCX/olnIgodreI7SXBqmSH2tPT05cWkKRxLNHZ2Vnv5eXlAMV5yR4tkC0lIRtJVJE8kQg9xDZyK/9DsUHDwcRtSJ8GVZR3FfkIdfEjpqHhleIMLjcAyRp+O0ksWo31GcVlSUnWSXR6evqHg2QL0lrRjUHpMNt21ANtWs/Pz03satsg7FIj7sYfevtYoiD5VeyGU8dg1XAwegFs958g5aNatE6Qy/39+vq6oy8M/T4r72GiAamWrOOYL9Sqf9gmvLy8LLOc0gt0Wfnk5OQ2F2k2wqJLNtc1ZL4AyW/Si9bj4+NKuBCQPJH+XVWF/XiSsXJzc8P+DbMRBGKbv5soSYjFmSsXEmy3MrC0rspTZAM1GR4e5uJNnfTUyecmChI2vamF26V01xMH5ubm5OzsTMrlssSQpUHJxcUFDXPHbGDTX3PrfbMB9YpPJe1qFMmtrS1ZXV2V9fX1OLJ+KDV4hm3plep8KPUeopAWt9MzOjRDaTqk3UVybW1NTk9PZWlpKZZsKDWlUqb/LObz+XkrUbgQzxwM7/7RqgsSQ/Lu7i54x2cCsn4oNWz/d8t3O1Gs0GYgDf5R0i4mIRkiCVkYk6/mbpjf8O6DXs9rHzxL40B3KG34vB6Su7u7ARmTpEn28PAwqB8cHJjje4pwG6plfvtNrw9JAoBkjzQpyZBMFPj9/PxcNjc3ZWxszPxcdPWDcAp6PS8pwe3e39/v1BcXF2ViYqJTv7+/l3q93qnTGzw8PEhadCTKIML8qO5BRGyERD0kudvb2+BXqVTiunD8YFy4KM/8hl382VUPC9CJlmWswMBU+GWNanQcHR0FemjqogvQy6Y+jw5sfdNKVCxSw6o+aB3rkiEYcGuR/UfLdztRh9Q6JwijJ8kQGC9YOE88dZvtgibtAKYx0fEuGwOy3mDohdBsRw/NaDzHx8dBuVAoyN7enri+GahBMDUWsFM9Ub8h7XceekVdh08sHYMYUcWhneiJ7mZ8fFySQHNjnQudin3/lV43tRIuxEqUwClEIr7xuhmGekkufBHounU65mJm5XezY4/DZ3JAejEPSTLEC0Iz3m1Q7Mu4uJ06yZmZGVciwza/885kWylB3VoJKwlulwFBTq5fLyLuZFZpOokqXaTueLbBzKQB2zMs49nNQ4I+GUbC87thuYXyquFbxm2rW2hLkhIlVMREybrO48QpGS5kdHSUt9WqazwsrIx7lNMFRmZK4I4W4I6+SUTwIO9JL8atDUZbzJTwJSKiQML4fZKYpBr6b0A1tqPaxOaelGR5JnqSPbioDdMV2ZAomxejW2lBl1fOLJunA9Kt4EG34kl6tFV+dLufTqkyziSMyZZjsnRdUG7qO0K6miu/FIVURENQJTDxAgh/dbVh3om+Ng05HQMRDYEYoWojS5IqdTMwMiFKWE4z5ymTBokud0lAC5b3/34Q9KclyRCZEaUOMsGrqhtJ3c4vgzogMsf/WUfb1yKzgP4AAAAASUVORK5CYII=",title:this.props.name,name:this.props.name,position:e,draggable:this.props.draggable,onDragend:(e,t,s)=>this.onMarkerDragEnd(s,e,t)}):null}):Object(c.jsx)("div",{className:"Small TaupeGrey smbold",children:" Map Loading... "})})}}t.a=n},349:function(e,t,s){"use strict";t.a=s.p+"static/media/crossIcon.43b1a504.svg"},350:function(e,t,s){"use strict";t.a=s.p+"static/media/camra-icon.a9175af2.svg"},351:function(e,t,s){"use strict";t.a=s.p+"static/media/doc.e1dd8771.svg"}}]);