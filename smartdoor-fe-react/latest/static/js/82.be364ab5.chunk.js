(this.webpackJsonpsmartdoor=this.webpackJsonpsmartdoor||[]).push([[82],{1036:function(e,t,n){},134:function(e,t,n){"use strict";var a,o,l,i,c,s,r,d,u,b,j,p=n(135),m=n(0),g=n(163),x=n(4);const h=function(){return Object(g.css)(a||(a=Object(p.a)(["\n    @media screen and (max-width: ","px) {\n      ","\n    }\n  "])),599,Object(g.css)(...arguments))},O=g.default.select(o||(o=Object(p.a)(["\n  cursor: pointer;\n  height: 24px;\n  min-width: 24px;\n  user-select: none;\n  padding-left: 8px;\n  padding-right: 12px;\n  box-sizing: content-box;\n  font-size: inherit;\n  color: inherit;\n  border: none;\n  background-color: transparent;\n  appearance: none;\n  direction: ltr;\n  &::-ms-expand {\n    display: none;\n  }\n  &:disabled::-ms-expand {\n    background: #f60;\n  }\n  option {\n    color: initial;\n  }\n"]))),v=g.default.div(l||(l=Object(p.a)(["\n  position: relative;\n  flex-shrink: 0;\n  font-size: inherit;\n  color: inherit;\n  margin-top: 1px;\n  svg {\n    top: 0;\n    right: 0;\n    color: inherit;\n    position: absolute;\n    fill: currentColor;\n    width: 24px;\n    height: 24px;\n    display: inline-block;\n    user-select: none;\n    pointer-events: none;\n  }\n"]))),y={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},C=g.default.nav(i||(i=Object(p.a)(["\n  display: flex;\n  flex: 1 1 auto;\n  // justify-content: flex-end;\n  align-items: center;\n  box-sizing: border-box;\n  padding-right: 8px;\n  padding-left: 8px;\n  width: 100%;\n  ",";\n"])),(e=>e.theme.pagination.style)),f=g.default.button(c||(c=Object(p.a)(["\n  position: relative;\n  display: block;\n  user-select: none;\n  border: none;\n  ",";\n  ",";\n"])),(e=>e.theme.pagination.pageButtonsStyle),(e=>e.isRTL&&"transform: scale(-1, -1)")),w=g.default.div(s||(s=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  white-space: nowrap;\n  ",";\n"])),h(r||(r=Object(p.a)(["\n    width: 100%;\n    justify-content: space-around;\n  "])))),k=g.default.span(d||(d=Object(p.a)(["\n  flex-shrink: 1;\n  user-select: none;\n"]))),N=Object(g.default)(k)(u||(u=Object(p.a)(["\n  margin: 0 24px;\n"]))),P=Object(g.default)(k)(b||(b=Object(p.a)(["\n  margin: 0 4px;\n"]))),D=g.default.div(j||(j=Object(p.a)(["\n  margin: ",";\n  display: ",";\n\n  "])),(e=>e.margin),(e=>e.display)),S=(e,t)=>Math.ceil(e/t),A=e=>Object(x.jsx)(v,{children:Object(x.jsx)(O,{...e})});t.a=e=>{let{rowsPerPage:t,rowCount:n,onChangePage:a,onChangeRowsPerPage:o,currentPage:l,direction:i,paginationRowsPerPageOptions:c,paginationIconLastPage:s,paginationIconFirstPage:r,paginationIconNext:d,paginationIconPrevious:u,paginationComponentOptions:b,PaginationActionButton:j}=e;const p=!1,g=S(n,t),h=l*t,O=h-t+1,v=1===l,k=l===g,L={...y,...b},B=l===g?"".concat(O,"-").concat(n," ").concat(L.rangeSeparatorText," ").concat(n):"".concat(O,"-").concat(h," ").concat(L.rangeSeparatorText," ").concat(n),T=Object(m.useCallback)((()=>a(l-1)),[l,a]),R=Object(m.useCallback)((()=>a(l+1)),[l,a]),I=Object(m.useCallback)((()=>a(1)),[a]),E=Object(m.useCallback)((()=>a(S(n,t))),[a,n,t]),z=Object(m.useCallback)((e=>{let{target:t}=e;return o(Number(t.value),l)}),[l,o]),U=c.map((e=>Object(x.jsx)("option",{value:e,children:e},e)));L.selectAllRowsItem&&U.push(Object(x.jsx)("option",{value:n,children:L.selectAllRowsItemText},-1));const Y=Object(x.jsx)(A,{onChange:z,defaultValue:t,"aria-label":L.rowsPerPageText,children:U});return Object(x.jsxs)(C,{className:"rdt_Pagination",children:[Object(x.jsx)(D,{margin:"0 auto",children:" "}),Object(x.jsx)(D,{margin:"0 auto",children:j?Object(x.jsx)(j,{}):null}),Object(x.jsxs)(D,{style:{display:"contents"},children:[!L.noRowsPerPage&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(P,{children:L.rowsPerPageText}),Y]}),Object(x.jsx)(N,{children:B}),Object(x.jsxs)(w,{children:[Object(x.jsx)(f,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":v,onClick:I,disabled:v,isRTL:p,children:r}),Object(x.jsx)(f,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":v,onClick:T,disabled:v,isRTL:p,children:u}),!1,Object(x.jsx)(f,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":k,onClick:R,disabled:k,isRTL:p,children:d}),Object(x.jsx)(f,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":k,onClick:E,disabled:k,isRTL:p,children:s})]})]})]})}},135:function(e,t,n){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return a}))},1511:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(38),i=n(35),c=n(20),s=n(115),r=n(29),d=n(126),u=n(30),b=n(219),j=(n(1036),n(119)),p=n(14),m=n(232),g=n(123),x=n(134),h=n(411),O=n(34),v=n(56),y=n(679),C=n(21),f=n(153),w=n(4);const k=()=>Object(w.jsxs)("div",{className:"d-flex justify-content-between tableBottom",children:[Object(w.jsx)("span",{}),Object(w.jsx)(p.b,{to:"/admin/user-management/add-new-member",children:Object(w.jsx)(d.a,{name:"Add New Entry",varient:"success",type:"submit",size:"Small",color:"white"})})]}),N=e=>Object(w.jsx)(x.a,{...e,PaginationActionButton:k}),P=Object(w.jsx)(v.b,{}),D={"Sales Admin":"SALES","Sales Executive":"SALES","Transaction Admin":"TRANSACTION","Transaction Executive":"TRANSACTION","Help Desk Executive":"HELPDESK","Help Desk Admin":"HELPDESK","Installation Executive":"EXECUTION","Installation Admin":"EXECUTION"},S={getAllUsers:j.kb,getCityAndDept:j.ub,getUserByCityAndDept:j.Gc,getLocationByCity:j.Yb},A=Object(l.b)((e=>{let{allUsersData:t,generalCityDepData:n}=e;return{allUsersData:t,generalCityDepData:n}}),S);t.default=Object(i.c)(A,a.memo)((e=>{var t,n,l,i,d,p,x,v;const{userData:S}=Object(C.b)(),A=null!==(t=e.location)&&void 0!==t&&null!==(n=t.state)&&void 0!==n&&n.moduleName?null===(l=e.location)||void 0===l||null===(i=l.state)||void 0===i?void 0:i.moduleName:"";console.log("user mgmnt:userData:",S),console.log(A,"moduleName"),console.log(e,"generalCityDepData");const{getAllUsers:L,allUsersData:B,getCityAndDept:T,generalCityDepData:R,getLocationByCity:I}=e,[E,z]=Object(a.useState)(""),[U,Y]=Object(a.useState)(""),[M,F]=Object(a.useState)(null!==(d=e.location)&&void 0!==d&&null!==(p=d.state)&&void 0!==p&&p.moduleName?null===(x=e.location)||void 0===x||null===(v=x.state)||void 0===v?void 0:v.moduleName:""),[W,H]=Object(a.useState)(!1),[G,J]=Object(a.useState)({}),K=()=>H(!1),V=()=>H(!0),[X,_]=Object(a.useState)([]),[q,Q]=Object(a.useState)([]),[Z,$]=Object(a.useState)(),[ee,te]=o.a.useState(""),[ne,ae]=o.a.useState(!1);Object(a.useEffect)((()=>{T()}),[T]),Object(a.useEffect)((()=>{L({pageNumber:"",records:"",searchByCity:"",searchByzipCode:"",departmentName:M})}),[L]);const oe=[{name:"Id",selector:"id",center:!0,sortable:!0},{name:"Joined On",selector:"joiningDate",maxWidth:"120px",sortable:!0,center:!0,cell:e=>{let{joiningDate:t}=e;return Object(w.jsx)("span",{children:Object(O.f)(t)})}},{name:"Name ",selector:"name",center:!0,cell:e=>{let{name:t,contactNumber:n,imageUrl:a}=e;return Object(w.jsx)("div",{className:"userName",children:Object(w.jsx)(O.a,{position:"top",name:Object(w.jsxs)("div",{children:[" ",Object(w.jsxs)("span",{children:[t||"-"," "]}),Object(w.jsxs)("span",{children:[" ","(".concat(n,")")," "]})]}),children:Object(w.jsx)(c.a,{size:"Small",color:"secondryColor",text:t?t.capitalizeWord():"-"})})})}},{name:"Location",selector:e=>e.workLocation,center:!0,maxWidth:"150px",cell:e=>{var t,n,a;return Object(w.jsx)("span",{className:"cursor-pointer elipsis-text",title:null===e||void 0===e||null===(t=e.workLocation)||void 0===t?void 0:t.map((e=>e.location)),children:null!==e&&void 0!==e&&null!==(n=e.workLocation)&&void 0!==n&&n.length&&null!==(null===e||void 0===e?void 0:e.workLocation)?"".concat(null===e||void 0===e||null===(a=e.workLocation[0])||void 0===a?void 0:a.location.toString(),"..."):"-"})}},{name:"City",selector:"city",center:!0,maxWidth:"170px",cell:e=>{let{city:t}=e;return Object(w.jsx)("span",{className:"cursor-pointer elipsis-text",title:t,children:t||"-"})}},{name:"Position",selector:"position",center:!0,minWidth:"200px",cell:e=>{let{position:t}=e;return Object(w.jsx)("span",{children:t})}},{name:"Action",center:!0,cell:e=>Object(w.jsxs)("div",{className:"action",children:[Object(w.jsx)(O.a,{position:"left",name:"View Details",children:Object(w.jsx)("span",{onClick:()=>{const t=(e=>{const{position:t}=e;return{userData:e,module:(null===D||void 0===D?void 0:D[t])||"USER"}})(e);$(t)},children:Object(w.jsx)(r.a,{name:"editIcon",src:u.a})})}),Object(w.jsx)(O.a,{position:"right",name:e.blocked?"Unblock":"Block",children:Object(w.jsx)("span",{onClick:()=>{V(),J({id:e.id,isBlocked:e.blocked})},children:Object(w.jsx)(r.a,{name:"contentIcon",className:"p-1",src:e.blocked?y.a:h.a})})})]})}],le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isReload:!1};null!==e&&void 0!==e&&e.isReload&&L({pageNumber:"",records:"",searchByCity:E,searchByzipCode:U,departmentName:M}),$()},ie=o.a.useMemo((()=>Object(w.jsx)(f.a,{onFilter:e=>te(e.target.value),onClear:()=>{ee&&(ae(!ne),te(""))},filterText:ee,placeholder:"Search here"})),[ee,ne]);function ce(e,t,n){return e.location.toLowerCase().includes(ee.toLowerCase())}const se=B.data.length?B.data.filter((e=>{var t,n,a;return(null===e||void 0===e?void 0:e.id)===ee||(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(ee.toLowerCase()))||(null===e||void 0===e||null===(n=e.position)||void 0===n?void 0:n.toLowerCase().includes(ee.toLowerCase()))||(null===e||void 0===e||null===(a=e.workLocation)||void 0===a?void 0:a.some(ce))})):[],re=(e,t,n)=>{L({pageNumber:"",records:"",searchByCity:e,searchByzipCode:t,departmentName:n})};return console.log(B,"aaaaaaaaaaaaaaaaaaaaaaaaaa"),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"tableBox mb-5",children:[Object(w.jsx)(m.a,{title:G.isBlocked?"Are you sure you want to unblock this user?":"Are you sure you want to block this user?",cancelButtonName:"Cancel",primaryButtonName:G.isBlocked?"Unblock":"Block",show:W,handleClose:K,handleShow:V,handlePerformAction:()=>{console.log("blockData.isBlocked:",G.isBlocked);let e=Object(O.d)(X.length?X[0]:"","YYYY-MM-DD"),t=Object(O.d)(X.length?X[1]:"","YYYY-MM-DD");Object(j.q)({userId:G.id,startDate:e,endDate:t}).then((e=>{L({pageNumber:"",records:"",searchByCity:E,searchByzipCode:U,departmentName:M}),_([])})).catch((e=>{console.log("")})),K()},showDateRange:!G.isBlocked,datePickerblockvalue:X,setDatePickerblockvalue:_,submodule:"block"}),!!Z&&Object(w.jsx)(b.a,{modalData:Z,dataFrom:"user_manage",closeModal:le,history:{goBack:le},getAllUsers:L,city:E,location:U,departments:M}),Object(w.jsxs)("div",{className:"d-flex flex-md-column flex-xl-row justify-content-xl-between align-items-xl-center align-items-left tableHeading",children:[Object(w.jsx)("div",{className:"text-nowrap mb-2",children:Object(w.jsx)(c.a,{size:"regular",fontWeight:"mediumbold",color:"secondryColor",text:"Team Members"})}),Object(w.jsxs)("div",{className:"locationSelect d-flex align-items-xl-center align-items-left",children:[ie,Object(w.jsxs)(s.a.Group,{controlId:"exampleForm.SelectCustom",className:"w-40 userGrp ml-0",children:[Object(w.jsxs)(s.a.Control,{as:"select",onChange:e=>{Q([]),z(e.target.value),Y(""),re(e.target.value,"",M),e.target.value.length&&I({city:e.target.value}).then((e=>{if(e.data&&200===e.data.status){const t=e.data.resourceData.locations.map((e=>({...e,location:"".concat(e.location," ,").concat(e.pinCode)})));Q(t)}})).catch((e=>console.log("err:",e)))},children:[Object(w.jsx)("option",{value:"",children:"Select City"}),R.city&&R.city.length?R.city.map(((e,t)=>Object(w.jsx)("option",{value:e,children:e},t))):null]}),Object(w.jsxs)(s.a.Control,{as:"select",value:U,className:"locationWidth",onChange:e=>{re(E,e.target.value,M),Y(e.target.value)},children:[Object(w.jsx)("option",{value:"",children:"Select Location"}),q&&q.length?q.map(((e,t)=>Object(w.jsx)("option",{value:e.pinCode,children:e.location},e.pinCode))):null]}),Object(w.jsxs)(s.a.Control,{as:"select",value:M,onChange:e=>{re(E,U,e.target.value),F(e.target.value)},children:[Object(w.jsx)("option",{value:"",children:"Department"}),R.departments&&R.departments.length?R.departments.map(((e,t)=>Object(w.jsx)("option",{value:e,children:e},t))):null]})]})]})]}),Object(w.jsx)(g.a,{data:se,columns:oe,progressPending:B.isLoading,paginationComponent:N,perPageOptions:[8,16,24,32,40,48,56,64,72,80],paginationPerPage:8,paginationRowsPerPageOptions:[8,16,24,32,40,48,56,64,72,80],progressComponent:P}),B.data.length?null:Object(w.jsx)("div",{className:"d-flex justify-content-center",children:Object(w.jsx)(k,{})})]})})}))}}]);