(this.webpackJsonpsmartdoor=this.webpackJsonpsmartdoor||[]).push([[74],{1035:function(e,t,a){},115:function(e,t,a){"use strict";var s=a(5),l=a(6),o=a(25),c=a.n(o),i=a(0),r=a.n(i),n=(a(114),a(7)),d=a.n(n),m=["as","className","type","tooltip"],b={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},u=r.a.forwardRef((function(e,t){var a=e.as,o=void 0===a?"div":a,i=e.className,n=e.type,d=void 0===n?"valid":n,b=e.tooltip,u=void 0!==b&&b,j=Object(l.a)(e,m);return r.a.createElement(o,Object(s.a)({},j,{ref:t,className:c()(i,d+"-"+(u?"tooltip":"feedback"))}))}));u.displayName="Feedback",u.propTypes=b;var j=u,x=r.a.createContext({controlId:void 0}),f=a(28),O=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],v=r.a.forwardRef((function(e,t){var a=e.id,o=e.bsPrefix,n=e.bsCustomPrefix,d=e.className,m=e.type,b=void 0===m?"checkbox":m,u=e.isValid,j=void 0!==u&&u,v=e.isInvalid,h=void 0!==v&&v,p=e.isStatic,N=e.as,y=void 0===N?"input":N,g=Object(l.a)(e,O),C=Object(i.useContext)(x),E=C.controlId,S=C.custom?[n,"custom-control-input"]:[o,"form-check-input"],P=S[0],I=S[1];return o=Object(f.a)(P,I),r.a.createElement(y,Object(s.a)({},g,{ref:t,type:b,id:a||E,className:c()(d,o,j&&"is-valid",h&&"is-invalid",p&&"position-static")}))}));v.displayName="FormCheckInput";var h=v,p=["bsPrefix","bsCustomPrefix","className","htmlFor"],N=r.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.bsCustomPrefix,n=e.className,d=e.htmlFor,m=Object(l.a)(e,p),b=Object(i.useContext)(x),u=b.controlId,j=b.custom?[o,"custom-control-label"]:[a,"form-check-label"],O=j[0],v=j[1];return a=Object(f.a)(O,v),r.a.createElement("label",Object(s.a)({},m,{ref:t,htmlFor:d||u,className:c()(n,a)}))}));N.displayName="FormCheckLabel";var y=N,g=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],C=r.a.forwardRef((function(e,t){var a=e.id,o=e.bsPrefix,n=e.bsCustomPrefix,d=e.inline,m=void 0!==d&&d,b=e.disabled,u=void 0!==b&&b,O=e.isValid,v=void 0!==O&&O,p=e.isInvalid,N=void 0!==p&&p,C=e.feedbackTooltip,E=void 0!==C&&C,S=e.feedback,P=e.className,I=e.style,w=e.title,F=void 0===w?"":w,L=e.type,z=void 0===L?"checkbox":L,T=e.label,k=e.children,W=e.custom,D=e.as,R=void 0===D?"input":D,G=Object(l.a)(e,g),A="switch"===z||W,M=A?[n,"custom-control"]:[o,"form-check"],V=M[0],H=M[1];o=Object(f.a)(V,H);var B=Object(i.useContext)(x).controlId,U=Object(i.useMemo)((function(){return{controlId:a||B,custom:A}}),[B,A,a]),K=A||null!=T&&!1!==T&&!k,_=r.a.createElement(h,Object(s.a)({},G,{type:"switch"===z?"checkbox":z,ref:t,isValid:v,isInvalid:N,isStatic:!K,disabled:u,as:R}));return r.a.createElement(x.Provider,{value:U},r.a.createElement("div",{style:I,className:c()(P,o,A&&"custom-"+z,m&&o+"-inline")},k||r.a.createElement(r.a.Fragment,null,_,K&&r.a.createElement(y,{title:F},T),(v||N)&&r.a.createElement(j,{type:v?"valid":"invalid",tooltip:E},S))))}));C.displayName="FormCheck",C.Input=h,C.Label=y;var E=C,S=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],P=r.a.forwardRef((function(e,t){var a=e.id,o=e.bsPrefix,n=e.bsCustomPrefix,d=e.className,m=e.isValid,b=e.isInvalid,u=e.lang,j=e.as,O=void 0===j?"input":j,v=Object(l.a)(e,S),h=Object(i.useContext)(x),p=h.controlId,N=h.custom?[n,"custom-file-input"]:[o,"form-control-file"],y=N[0],g=N[1];return o=Object(f.a)(y,g),r.a.createElement(O,Object(s.a)({},v,{ref:t,id:a||p,type:"file",lang:u,className:c()(d,o,m&&"is-valid",b&&"is-invalid")}))}));P.displayName="FormFileInput";var I=P,w=["bsPrefix","bsCustomPrefix","className","htmlFor"],F=r.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.bsCustomPrefix,n=e.className,d=e.htmlFor,m=Object(l.a)(e,w),b=Object(i.useContext)(x),u=b.controlId,j=b.custom?[o,"custom-file-label"]:[a,"form-file-label"],O=j[0],v=j[1];return a=Object(f.a)(O,v),r.a.createElement("label",Object(s.a)({},m,{ref:t,htmlFor:d||u,className:c()(n,a),"data-browse":m["data-browse"]}))}));F.displayName="FormFileLabel";var L=F,z=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],T=r.a.forwardRef((function(e,t){var a=e.id,o=e.bsPrefix,n=e.bsCustomPrefix,d=e.disabled,m=void 0!==d&&d,b=e.isValid,u=void 0!==b&&b,O=e.isInvalid,v=void 0!==O&&O,h=e.feedbackTooltip,p=void 0!==h&&h,N=e.feedback,y=e.className,g=e.style,C=e.label,E=e.children,S=e.custom,P=e.lang,w=e["data-browse"],F=e.as,T=void 0===F?"div":F,k=e.inputAs,W=void 0===k?"input":k,D=Object(l.a)(e,z),R=S?[n,"custom"]:[o,"form-file"],G=R[0],A=R[1];o=Object(f.a)(G,A);var M=Object(i.useContext)(x).controlId,V=Object(i.useMemo)((function(){return{controlId:a||M,custom:S}}),[M,S,a]),H=null!=C&&!1!==C&&!E,B=r.a.createElement(I,Object(s.a)({},D,{ref:t,isValid:u,isInvalid:v,disabled:m,as:W,lang:P}));return r.a.createElement(x.Provider,{value:V},r.a.createElement(T,{style:g,className:c()(y,o,S&&"custom-file")},E||r.a.createElement(r.a.Fragment,null,S?r.a.createElement(r.a.Fragment,null,B,H&&r.a.createElement(L,{"data-browse":w},C)):r.a.createElement(r.a.Fragment,null,H&&r.a.createElement(L,null,C),B),(u||v)&&r.a.createElement(j,{type:u?"valid":"invalid",tooltip:p},N))))}));T.displayName="FormFile",T.Input=I,T.Label=L;var k=T,W=(a(46),["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),D=r.a.forwardRef((function(e,t){var a,o,n=e.bsPrefix,d=e.bsCustomPrefix,m=e.type,b=e.size,u=e.htmlSize,j=e.id,O=e.className,v=e.isValid,h=void 0!==v&&v,p=e.isInvalid,N=void 0!==p&&p,y=e.plaintext,g=e.readOnly,C=e.custom,E=e.as,S=void 0===E?"input":E,P=Object(l.a)(e,W),I=Object(i.useContext)(x).controlId,w=C?[d,"custom"]:[n,"form-control"],F=w[0],L=w[1];if(n=Object(f.a)(F,L),y)(o={})[n+"-plaintext"]=!0,a=o;else if("file"===m){var z;(z={})[n+"-file"]=!0,a=z}else if("range"===m){var T;(T={})[n+"-range"]=!0,a=T}else if("select"===S&&C){var k;(k={})[n+"-select"]=!0,k[n+"-select-"+b]=b,a=k}else{var D;(D={})[n]=!0,D[n+"-"+b]=b,a=D}return r.a.createElement(S,Object(s.a)({},P,{type:m,size:u,ref:t,readOnly:g,id:j||I,className:c()(O,a,h&&"is-valid",N&&"is-invalid")}))}));D.displayName="FormControl";var R=Object.assign(D,{Feedback:j}),G=["bsPrefix","className","children","controlId","as"],A=r.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,n=e.children,d=e.controlId,m=e.as,b=void 0===m?"div":m,u=Object(l.a)(e,G);a=Object(f.a)(a,"form-group");var j=Object(i.useMemo)((function(){return{controlId:d}}),[d]);return r.a.createElement(x.Provider,{value:j},r.a.createElement(b,Object(s.a)({},u,{ref:t,className:c()(o,a)}),n))}));A.displayName="FormGroup";var M=A,V=a(143),H=["as","bsPrefix","column","srOnly","className","htmlFor"],B=r.a.forwardRef((function(e,t){var a=e.as,o=void 0===a?"label":a,n=e.bsPrefix,d=e.column,m=e.srOnly,b=e.className,u=e.htmlFor,j=Object(l.a)(e,H),O=Object(i.useContext)(x).controlId;n=Object(f.a)(n,"form-label");var v="col-form-label";"string"===typeof d&&(v=v+" "+v+"-"+d);var h=c()(b,n,m&&"sr-only",d&&v);return u=u||O,d?r.a.createElement(V.a,Object(s.a)({ref:t,as:"label",className:h,htmlFor:u},j)):r.a.createElement(o,Object(s.a)({ref:t,className:h,htmlFor:u},j))}));B.displayName="FormLabel",B.defaultProps={column:!1,srOnly:!1};var U=B,K=["bsPrefix","className","as","muted"],_=r.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,i=e.as,n=void 0===i?"small":i,d=e.muted,m=Object(l.a)(e,K);return a=Object(f.a)(a,"form-text"),r.a.createElement(n,Object(s.a)({},m,{ref:t,className:c()(o,a,d&&"text-muted")}))}));_.displayName="FormText";var J=_,Y=r.a.forwardRef((function(e,t){return r.a.createElement(E,Object(s.a)({},e,{ref:t,type:"switch"}))}));Y.displayName="Switch",Y.Input=E.Input,Y.Label=E.Label;var q=Y,Q=a(130),X=["bsPrefix","inline","className","validated","as"],Z=Object(Q.a)("form-row"),$=r.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.inline,i=e.className,n=e.validated,d=e.as,m=void 0===d?"form":d,b=Object(l.a)(e,X);return a=Object(f.a)(a,"form"),r.a.createElement(m,Object(s.a)({},b,{ref:t,className:c()(i,n&&"was-validated",o&&a+"-inline")}))}));$.displayName="Form",$.defaultProps={inline:!1},$.Row=Z,$.Group=M,$.Control=R,$.Check=E,$.File=k,$.Switch=q,$.Label=U,$.Text=J;t.a=$},132:function(e,t,a){},1509:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a(115),o=a(126),c=a(20),i=a(1494),r=a(143),n=a(119),d=(a(1035),a(34)),m=a(14),b=a(194),u=a(21),j=a(4);const x=e=>{var t,a,x,f,O;const{auth:{userData:v}}=Object(u.d)();console.log("LeaddetailsPage",e);const h=e.location.state?e.location.state.leadId:"",[p,N]=Object(s.useState)(!0),[y,g]=Object(s.useState)({}),[C,E]=Object(s.useState)(null),[S,P]=Object(s.useState)(""),[I,w]=Object(s.useState)(!1),[F,L]=Object(s.useState)([]),[z,T]=Object(s.useState)(""),k=Object(s.useCallback)((()=>{Object(n.Ub)({leadId:h}).then((e=>{e.data&&(e.data.resourceData&&g(e.data.resourceData),e.data.error&&E(e.data.error)),N(!1),console.log("response",e)})).catch((e=>{N(!1),console.log("error",e)}))}),[n.Ub,h]);Object(s.useEffect)((()=>{k()}),[k]);function W(e,t,a){if("next"===a){if("IN_PROGRESS"===t)return!!e[0]&&("Will decide later"===e[0].clientInterest||("No, does not look interested"===e[0].clientInterest||(e[0].clientInterest,!1)))}else if("IN_PROGRESS"===t)return!!e[0]&&("Will decide later"!==e[0].clientInterest&&("No, does not look interested"!==e[0].clientInterest&&"Yes, interested"===e[0].clientInterest))}const D=()=>{!function(e,t){e&&t&&Object(n.n)({leadId:e,userId:t}).then((e=>{console.log("Success"),k()})).catch((e=>{console.log(e)}))}(h,S)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{style:{height:"2%"}}),Object(j.jsx)("div",{className:"whiteBg",children:C?Object(j.jsx)("h1",{children:C}):p?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsxs)("div",{className:"leadTitle",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)(c.a,{size:"medium",fontWeight:"mediumbold",color:"secondryColor",text:y.societyName,className:"mr-2"}),Object(d.p)("COMPLETED"===y.status?"CONVERTED":y.status),y.directAccessed?Object(j.jsx)(c.a,{className:"ml-2",size:"Small",fontWeight:"smbold",color:"TaupeGrey",text:"DIRECT ACCESSED"}):""]}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"smbold",color:"secondryColor",text:y.address})]}),Object(j.jsxs)("div",{className:"locationSelect",children:["HELPDESK"===e.location.state.module?(y.leadFor,""):"ASSIGNED"===y.status||"COMPLETED"===y.status||y.directAccessed?"":Object(j.jsx)(o.a,{disabled:!(!0!==y.directAccessed&&"COMPLETED"!==y.status&&"PENDING"!==y.status&&"NOT INTERESTED"!==y.status&&"CANCELLED"!==y.status&&"PROBLEM"!==y.status&&!W(y.reviews,y.status,"next")),name:"Next",varient:"primary",type:"submit",size:"xSmall",color:"white",onClick:()=>{console.log("passdata:",y),e.history.push("/admin/sales/lead-details/enroll-new-society",{data:y})}}),Object(j.jsx)("span",{className:"ml-2"}),"HELPDESK"===e.location.state.module?"CLOSED"===(null===y||void 0===y?void 0:y.status)?"":Object(j.jsx)(o.a,{name:"Close",varient:"primary",type:"submit",size:"xSmall",color:"white",onClick:()=>{Object(n.t)({leadId:h}).then((e=>{console.log(e,"close sales lead!!"),200===e.data.status&&k()})).catch((e=>console.log(e)))}}):"IN PROGRESS"===y.status||"COMPLETED"===y.status?"":Object(j.jsx)(o.a,{disabled:!("COMPLETED"!==y.status&&"CANCELLED"!==y.status&&!W(y.reviews,y.status,"edit")),name:I?"Save":"Edit",varient:"primary",type:"submit",size:"xSmall",color:"white",onClick:()=>{w(!I),I?D():console.log("yyyy")}})]})]}),Object(j.jsxs)(i.a,{className:"mt-3",children:[Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Date"}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:Object(d.f)(y.leadDate)})]})}),Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Source"}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.source})]})}),Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Lead For"}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:(null===y||void 0===y||null===(t=y.leadFor)||void 0===t||null===(a=t.charAt(0))||void 0===a?void 0:a.toUpperCase())+(null===y||void 0===y||null===(x=y.leadFor)||void 0===x||null===(f=x.slice(1))||void 0===f?void 0:f.toLowerCase())})]})}),Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Assigned To"}),I?Object(j.jsx)("div",{className:"w-75 e_select",children:Object(j.jsx)(l.a.Group,{controlId:"exampleForm.SelectCustom",className:"",children:Object(j.jsxs)(l.a.Control,{as:"select",onChange:e=>{P(e.target.value)},children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Assign"}),y.assignToList?y.assignToList.map(((e,t)=>Object(j.jsx)("option",{value:e.id,children:e.name},t))):null]})})}):Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:(null===(O=y.assignTo)||void 0===O?void 0:O.capitalizeWord())||"-"})]})}),"HELPDESK"===e.module?Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Recommended By"}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.recommendedBy})]})}):null,"HELPDESK"===e.module?Object(j.jsx)(j.Fragment,{children:y.contactPerson?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{className:"col-2",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Contact Person"}),null!==y.contactId?Object(j.jsx)(m.b,{to:"/admin/helpdesk/property-leads/consumer-details/".concat(y.contactId),children:Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.contactPerson})}):Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.contactPerson})]})}),Object(j.jsx)(r.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Phone Number"}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.contactNumber})]})})]}):null}):Object(j.jsx)(j.Fragment,{children:y.customerName?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{xs:2,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Contact Person"}),Object(j.jsx)(m.b,{className:"removeUnderline",to:"/admin/sales/sales-lead/consumer-details/".concat(y.customerId),children:Object(j.jsx)(c.a,{className:"forLink",size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.customerName})})]})}),Object(j.jsx)(r.a,{xs:2,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Phone Number"}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:y.customerContactNumber})]})})]}):null})]}),Object(j.jsx)("div",{className:"separator mt-4"}),Object(j.jsxs)("div",{className:"feedBack mt-4",children:[Object(j.jsx)(c.a,{size:"medium",fontWeight:"mediumbold",color:"secondryColor",text:"Client Feedback"}),y&&y.reviews?y.reviews.map(((e,t)=>Object(j.jsxs)("div",{className:"mt-2 mb-3",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"secondryColor",text:"From: ".concat(e.name||" - ")}),Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:Object(d.g)(e.feedbackDate),className:"ml-2"})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center mt-0",children:[Object(j.jsx)(c.a,{size:"Small",fontWeight:"mediumbold",color:"primaryColor",text:e.clientInterest}),null!==e.followUpDate?Object(j.jsx)(c.a,{size:"xSmall",fontWeight:"smbold",color:"TaupeGrey",text:"Follow up date: ".concat(Object(d.f)(e.followUpDate)||" ")}):null]}),Object(j.jsx)(c.a,{size:"Small",fontWeight:"smbold",color:"primaryColor",text:e.feedback,className:"mt-1"})]},t))):Object(j.jsx)("span",{children:"-"}),"HELPDESK"===e.module&&"CLOSED"!==y.status?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"commentInput",children:Object(j.jsx)(b.a,{id:"description",label:"Enter Message",rows:"6",placeholder:"Enter Here...",style:{maxHeight:"132px"},value:z,className:"messagesModalWidth commentbox",onChange:e=>T(e.target.value)})}),Object(j.jsx)(o.a,{name:"Submit",varient:"primary",type:"submit",size:"Small",color:"white",className:"mt-3",disabled:""===z.trim(),onClick:()=>{return e=z.trim(),L([...F,e]),T(""),void Object(n.Gc)({leadId:h,loginId:v.userid,review:z}).then((e=>{e.data&&(e.data.resourceData&&e.data.error&&E(e.data.error),k()),N(!1),console.log("response",e)})).catch((e=>{N(!1),console.log("error",e)}));var e}})]}):null]})]})})]})};t.default=Object(s.memo)(x)},194:function(e,t,a){"use strict";a(132);var s=a(0),l=a(20),o=a(4);const c=Object(s.forwardRef)(((e,t)=>{let{id:a,label:c,children:i,error:r,className:n,rows:d,maxLength:m,...b}=e,u=a||c||"sdFormControlTextarea"+Math.random();const j=e=>{const t=document.getElementById("textAcharLimit"),a=e.currentTarget.value.length;t.innerHTML="".concat(a,"/500")};return Object(s.useEffect)((()=>{const e=document.getElementById(u);return e&&m&&e.addEventListener("input",j),()=>{e&&e.removeEventListener("input",j)}}),[u,m]),Object(o.jsxs)("div",{className:"sdInputFields positionLimit",children:[Object(o.jsx)("label",{htmlFor:u,className:"form-label",children:c}),Object(o.jsx)("textarea",{id:u,className:"textArea ".concat(n||""),rows:d||"3",maxLength:m||5e3,...b,children:i}),m&&Object(o.jsxs)("span",{className:"limitChar",id:"textAcharLimit",children:["0/",m]}),r&&Object(o.jsx)(l.a,{color:"dangerText",size:"xSmall",text:r})]})}));t.a=Object(s.memo)(c)}}]);